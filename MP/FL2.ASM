PAGE 30,132
TITLE FILE
.MODEL SMALL
.STACK 100H
.DATA
MS1 DB 'C:\fun3.txt',00H
ENTER1 DB 10D,13D
R0 DB 'HELLO WORLD!! IT IS JUST A TRY.'
R1 DB 37 DUP(0)
   DB '$'
fh dW ?
FCB1 DB 0
	 DB 8 DUP(0)
	 DB 'ASM'
	 DB 25 DUP(0)
BUFFER DB 64 DUP(0)

CNT DB 5
SRH DB '.ASM',00H
.CODE
MAIN PROC FAR
MOV AX,@DATA
MOV DS,AX
MOV AH,3CH
LEA DX,MS1
MOV CX,00
INT 21H

mov fh,aX
;WRITING IN THE FILE

MOV AH,40H
MOV BX,FH
LEA DX,R0
MOV CX,30
INT 21H

;CLOSING THE FILE

MOV AH,3EH
MOV BX,FH
INT 21H

;OPENING THE FILE

MOV AH,3DH
MOV AL,02H
LEA DX,MS1
INT 21H
MOV FH,AX


MOV AH,1AH
LEA DX,BUFFER
INT 21H
;FIRST SEARCH
MOV AH,4EH
LEA DX,SRH
INT 21H
;WRITING TO FILE
MOV AH,40H
MOV BX,FH
LEA DX,R0
MOV CX,37
INT 21H
;L1:
;MOV AH,4FH
;LEA DX,SRH
;INT 21H
;MOV AH,40H
;MOV BX,FH
;LEA DX,SRH
;MOV CX,37
;INT 21H
;DEC CNT
;JNZ L1

MOV AH,3EH
MOV BX,FH
INT 21H

;READING FROM THE FILE
MOV AH,3DH
LEA DX,MS1
MOV AL,02H
INT 21H
MOV FH,AX
MOV AH,3FH
MOV BX,FH
LEA DX,R1
MOV CX,00
MOV CX,37
INT 21H

MOV AH,09H
LEA DX,R1
INT 21H

MOV AH,4CH
INT 21H
MAIN ENDP
END MAIN
